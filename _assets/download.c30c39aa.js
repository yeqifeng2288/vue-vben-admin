import{ce as e}from"./index.e84487d5.js";function t(e,t,o,a){(function(e,t){return new Promise(((n,o)=>{let a=document.createElement("CANVAS");const i=a.getContext("2d"),r=new Image;r.crossOrigin="",r.onload=function(){if(!a||!i)return o();a.height=r.height,a.width=r.width,i.drawImage(r,0,0);const e=a.toDataURL(t||"image/png");a=null,n(e)},r.src=e}))})(e).then((e=>{n(e,t,o,a)}))}function n(e,t,n,a){o(function(e){const t=e.split(","),n=t[0].match(/:(.*?);/)[1],o=atob(t[1]);let a=o.length;const i=new Uint8Array(a);for(;a--;)i[a]=o.charCodeAt(a);return new Blob([i],{type:n})}(e),t,n,a)}function o(e,t,n,o){const a=new Blob(void 0!==o?[o,e]:[e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,t);else{const e=window.URL.createObjectURL(a),n=document.createElement("a");n.style.display="none",n.href=e,n.setAttribute("download",t),void 0===n.download&&n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)}}function a({url:t,target:n="_blank",fileName:o}){const a=window.navigator.userAgent.toLowerCase().indexOf("chrome")>-1,i=window.navigator.userAgent.toLowerCase().indexOf("safari")>-1;if(/(iP)/g.test(window.navigator.userAgent))return!1;if(a||i){const e=document.createElement("a");if(e.href=t,e.target=n,void 0!==e.download&&(e.download=o||t.substring(t.lastIndexOf("/")+1,t.length)),document.createEvent){const t=document.createEvent("MouseEvents");return t.initEvent("click",!0,!0),e.dispatchEvent(t),!0}}return-1===t.indexOf("?")&&(t+="?download"),e(t,{target:n}),!0}export{o as a,n as b,t as c,a as d};